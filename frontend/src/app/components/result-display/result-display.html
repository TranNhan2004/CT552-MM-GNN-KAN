<!-- components/result-display/result-display.component.html -->
<div class="bg-white rounded-xl shadow-lg border border-cyan-100 overflow-hidden h-full">
  <div class="bg-gradient-to-r from-green-300 via-cyan-400 to-blue-500 px-6 py-4">
    <h2 class="text-xl font-bold text-white">Kết quả dự đoán</h2>
  </div>

  <div class="p-6">
    <!-- Loading State -->
    @if (isLoading) {
    <div class="flex flex-col items-center justify-center py-16">
      <div class="relative">
        <div class="w-20 h-20 border-4 border-cyan-200 border-t-cyan-600 rounded-full animate-spin"></div>
        <div class="absolute inset-0 flex items-center justify-center">
          <app-icon name="sparkles" className="w-8 h-8 text-cyan-600" />
        </div>
      </div>
      <p class="mt-6 text-gray-600 font-medium animate-pulse">Đang xử lý dữ liệu...</p>
    </div>
    }

    <!-- No Result State -->
    @if (!isLoading && !result) {
    <div class="flex flex-col items-center justify-center py-16">
      <div class="bg-gradient-to-br from-green-100 to-blue-100 rounded-full p-6 mb-4">
        <app-icon name="document-text" className="w-16 h-16 text-cyan-500" />
      </div>
      <p class="text-gray-400 text-center text-lg">Chưa có kết quả</p>
      <p class="text-gray-400 text-center text-sm mt-2">Nhập dữ liệu và nhấn "Dự đoán"</p>
    </div>
    }

    <!-- Result Display -->
    @if (!isLoading && result) {
    <div class="space-y-6">
      <!-- Label Section -->
      <div class="bg-gradient-to-br from-green-50 to-blue-50 rounded-xl p-5 border-2 border-cyan-200">
        <div class="font-medium text-gray-600 mb-2 flex items-center">
          <app-icon name="check-circle" className="w-5 h-5 mr-2 text-green-500" />
          <span class="text-lg">Nhãn dự đoán</span>
        </div>
        <div class="text-3xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent">
          {{ result.labelName }}
        </div>
      </div>

      <!-- Confidence Section -->
      <div class="bg-gradient-to-br from-gray-50 to-white rounded-xl p-5 border-2 border-gray-200">
        <div class="font-medium text-gray-600 mb-3 flex items-center">
          <app-icon name="chart-bar" className="w-5 h-5 mr-2 text-cyan-500" />
          <span class="text-lg">Độ tin cậy</span>
        </div>

        <!-- Confidence Value -->
        <div class="flex items-center justify-between mb-4">
          <div [class]="getConfidenceBackground(result.prob)" class="px-6 py-3 rounded-xl border-2 shadow-sm">
            <div class="flex items-baseline space-x-2">
              <span [class]="getConfidenceColor(result.prob)" class="text-4xl font-bold">
                {{ (result.prob * 100).toFixed(2) }}%
              </span>
              <span [class]="getConfidenceColor(result.prob)" class="text-sm font-semibold">
                ({{ getConfidenceLevel(result.prob) }})
              </span>
            </div>
          </div>

          <!-- Confidence Icon -->
          <div class="ml-4">
            @if (result.prob >= 0.8) {
            <div class="bg-green-100 rounded-full p-3">
              <app-icon name="check-circle" className="w-8 h-8 text-green-600" />
            </div>
            } @else if (result.prob >= 0.6) {
            <div class="bg-yellow-100 rounded-full p-3">
              <app-icon name="exclamation-triangle" className="w-8 h-8 text-yellow-600" />
            </div>
            } @else {
            <div class="bg-red-100 rounded-full p-3">
              <app-icon name="x-circle" className="w-8 h-8 text-red-600" />
            </div>
            }
          </div>
        </div>

        <!-- Progress Bar -->
        <div class="w-full bg-gray-200 rounded-full h-4 overflow-hidden shadow-inner">
          <div [class]="getProgressBarColor(result.prob)"
            class="h-4 rounded-full transition-all duration-1000 ease-out shadow-lg"
            [style.width.%]="result.prob * 100"></div>
        </div>
      </div>
    </div>
    }
  </div>
</div>
